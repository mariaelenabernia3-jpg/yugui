:root {
    /* --- TEMÁTICA UI DE JUEGO --- */
    --font-main: 'Bangers', cursive;
    --font-body: 'M PLUS Rounded 1c', sans-serif;
    
    --color-background-start: #0d1b2a;
    --color-background-end: #000c18;
    --color-primary-glow: #00a6fb;
    --color-secondary-glow: #ff9f1c;
    --color-text: #ffffff;

    --color-player-lp: #2ecc71;
    --color-opponent-lp: #e74c3c;
    --color-player-lp-bg: #27ae60;
    --color-opponent-lp-bg: #c0392b;
    
    /* --- UNIDADES DE TAMAÑO --- */
    --card-height: 10vh;
    --card-width: calc(var(--card-height) * 0.7); 
    --gap-size: 1vh;
}

/* --- CONFIGURACIÓN GENERAL --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background: linear-gradient(180deg, var(--color-background-start), var(--color-background-end));
    color: var(--color-text);
    font-family: var(--font-body);
    height: 100vh;
    overflow: hidden;
}

/* --- LAYOUT PRINCIPAL --- */
#main-container { display: flex; align-items: flex-start; padding: 2vh 1.5vw; gap: 1.5vw; height: 100%; }
#left-ui-panel { display: flex; flex-direction: column; justify-content: space-between; width: 22vw; max-width: 300px; height: 100%; }
#game-board-container { flex-grow: 1; height: 100%; transform: translateX(-4vw); }
#right-ui-panel { display: flex; flex-direction: column; justify-content: space-between; align-items: center; height: 100%; padding: 2vh 0; }

#game-board {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.2vh;
    height: 100%;
}

/* --- PANELES DE UI --- */
.life-box {
    font-family: var(--font-main); font-size: 2.5vh; letter-spacing: 1px;
    padding: 1.5vh; border-radius: 8px; text-shadow: 2px 2px 2px #000;
    position: relative; overflow: hidden;
}
#opponent-life-box { background: var(--color-opponent-lp-bg); border: 2px solid #a02d21; }
#player-life-box { background: var(--color-player-lp-bg); border: 2px solid #1f8548; }
.life-box-text-container { position: relative; z-index: 2; display: flex; justify-content: space-between; align-items: center; }
.life-box span:last-child { font-size: 3vh; }
.life-box-fill { position: absolute; top: 0; left: 0; height: 100%; z-index: 1; transition: width 0.5s ease-in-out; }
#player-lp-box-bar { background: var(--color-player-lp); }
#opponent-lp-box-bar { background: var(--color-opponent-lp); }

#card-info-panel {
    background: linear-gradient(135deg, #1e3a5f, #0d1b2a);
    border: 2px solid var(--color-primary-glow);
    border-radius: 12px; padding: 2vh;
    display: flex; flex-direction: column; align-items: center; text-align: center;
}
#card-info-panel h2 { font-family: var(--font-main); color: var(--color-secondary-glow); font-size: 3vh; letter-spacing: 1px; }
#card-info-panel .image-container { width: 90%; margin: 1vh 0; padding: 5px; border: 1px solid var(--color-primary-glow); background: #000; border-radius: 4px; }
#card-image-preview { width: 100%; min-height: 15vh; border-radius: 2px; }
#card-description { font-size: 1.4vh; margin: 1vh 0; }
#card-stats { font-weight: 900; font-size: 1.5vh; display: flex; flex-direction: column; gap: 0.5vh; }

/* --- TABLERO DE JUEGO --- */
.player-field { display: flex; flex-direction: column; gap: var(--gap-size); }
.field-row { display: flex; gap: var(--gap-size); justify-content: center; }

.card-zone {
    width: var(--card-width);
    height: var(--card-height);
    background: rgba(0, 166, 251, 0.1);
    border: 1px solid var(--color-primary-glow);
    border-radius: 8px;
    transition: all 0.2s ease-out;
    box-shadow: 0 0 10px rgba(0, 166, 251, 0.5), inset 0 0 8px rgba(0, 166, 251, 0.3);
}

/* --- ZONA CENTRAL --- */
#center-field { display: flex; align-items: center; gap: var(--gap-size); }
.center-zone { height: calc(var(--card-height) * 1.2); }
#next-phase-btn {
    padding: 1.2vh 2.2vw; font-family: var(--font-main); font-size: 2.5vh;
    background: var(--color-secondary-glow); color: #fff;
    border: 2px solid #a36207; border-radius: 10px; cursor: pointer;
    text-shadow: 2px 2px 0 #a36207; box-shadow: 0 4px 0 #a36207;
    transition: all 0.1s;
}
#next-phase-btn:active { transform: translateY(3px); box-shadow: 0 1px 0 #a36207; }

/* --- MANOS DE LOS JUGADORES --- */
.hand {
    display: flex;
    justify-content: center;
    align-items: center;
    height: calc(var(--card-height) + 2vh);
    gap: 1vw;
}
.hand .card {
    width: var(--card-width); height: var(--card-height);
    background-size: cover; border: 1px solid #000; border-radius: 6px;
    cursor: pointer; box-shadow: 0 5px 10px rgba(0,0,0,0.7);
    transition: transform 0.2s ease-out;
}
#player-hand .card:hover { transform: scale(1.3) translateY(calc(var(--card-height) * -0.25)); z-index: 100; }
#opponent-hand .card:hover { transform: scale(1.3) translateY(calc(var(--card-height) * 0.25)); z-index: 100; }

.card.selected { box-shadow: 0 0 2vh 0.6vh var(--color-secondary-glow), 0 0 0 3px var(--color-secondary-glow); }

.card-zone .card {
    width: 100%; height: 100%;
    background-size: cover; background-position: center;
    border-radius: 6px; cursor: default;
    box-shadow: none; border: 1px solid var(--color-primary-glow);
}

.card-back {
    width: 100%; height: 100%;
    background-image: url('https://th.bing.com/th/id/OIP.wP8y2BWz7gynjcuMM2EEMAAAAA?w=184&h=268&c=7&r=0&o=7&pid=1.7&rm=3');
    background-size: cover;
    border-radius: inherit;
}

/* ======================================================= */
/* --- VISTA PARA MÓVILES (RESPONSIVE DESIGN) --- */
/* ======================================================= */
@media (max-width: 800px) {
    /* --- REDEFINIR TAMAÑOS --- */
    :root {
        --card-height: 7.5vh;
        --gap-size: 0.5vh;
    }

    /* --- REESTRUCTURAR LAYOUT PRINCIPAL --- */
    #main-container {
        flex-direction: column;
        padding: 1vh;
        gap: 1vh;
    }

    /* Ocultar panel derecho y centrar tablero */
    #right-ui-panel {
        display: none;
    }
    #game-board-container {
        order: 1; /* Tablero va primero */
        transform: translateX(0); /* Resetear desplazamiento */
        height: 70%; /* Ocupa la mayor parte de la pantalla */
    }
    #left-ui-panel {
        order: 2; /* Panel de info va después */
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
        width: 100%;
        max-width: 100%;
        height: 25%;
    }

    /* --- AJUSTAR PANELES DE UI PARA MÓVIL --- */
    #card-info-panel {
        width: 45%;
        height: 100%;
        padding: 1vh;
    }
    #card-info-panel h2 { font-size: 2vh; }
    #card-info-panel p { display: none; } /* Ocultar descripciones para ahorrar espacio */
    .image-container { display: none; } /* Ocultar imagen previa */
    #card-stats { font-size: 1.2vh; }

    .life-box {
        width: 25%;
        height: 100%;
        font-size: 2vh;
        padding: 1vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    /* --- AJUSTAR MANOS PARA MÓVIL --- */
    .hand {
        gap: 0; /* Sin espacio para que se solapen */
    }
    .hand .card {
        /* Volver al estilo solapado para ahorrar espacio */
        margin: 0 calc(var(--card-width) * -0.5);
    }

    /* Reducir efecto hover para que no sea tan intrusivo */
    #player-hand .card:hover { transform: scale(1.2) translateY(calc(var(--card-height) * -0.2)); }
    #opponent-hand .card:hover { transform: scale(1.2) translateY(calc(var(--card-height) * 0.2)); }
}
